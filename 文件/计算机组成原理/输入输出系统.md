#### **1. I/O系统的基本概念**

- **I/O设备**
  - 输入设备：如键盘、鼠标、扫描仪，用于接收外界数据。
  - 输出设备：如显示器、打印机、扬声器，用于输出计算结果或信息。
  - 输入输出复合设备：如触摸屏、网络接口。
- **I/O模块**
  - 是连接CPU和I/O设备的中间层，负责设备的控制与数据传输。
  - 功能：设备通信、数据缓冲、错误检测、数据格式转换。

------

#### **2. I/O控制方式**

- **程序控制方式**
  - CPU通过轮询的方式检查设备状态，决定是否执行数据传输。
  - 特点：实现简单，但CPU资源浪费严重。
  - 示例：处理器不断查询打印机是否准备好接收数据。
- **中断驱动方式**
  - I/O设备完成某项任务后，通过中断信号通知CPU。
  - 特点：减少了CPU等待时间，提高了处理效率。
  - 示例：键盘输入时，按下按键触发中断，通知CPU读取数据。
- **直接内存访问（DMA）**
  - 数据传输由DMA控制器完成，无需CPU直接参与。
  - 特点：高效，适用于大规模数据传输。
  - 示例：硬盘向主存传输数据时使用DMA。

------

#### **3. I/O接口**

- **接口的定义**
  - 计算机内部与I/O设备通信的硬件电路或软件协议。
- **常见接口标准**
  1. 并行接口
     - 同时传输多个位的数据，速度快但距离有限。
     - 示例：打印机的并口（如旧式Centronics接口）。
  2. 串行接口
     - 数据按位传输，速度较慢但传输距离远。
     - 示例：USB、RS-232、I2C、SPI。
  3. 存储接口
     - 专用于存储设备的高速数据传输。
     - 示例：SATA、NVMe、SCSI。
- **接口的性能参数**
  - 数据传输速率：单位时间内传输的数据量。
  - 带宽：最大传输速率的范围。
  - 延迟：数据从发送到接收的时间。

------

#### **4. I/O性能优化**

- **多缓冲技术**
  - 设置多个缓冲区，交替进行数据传输和处理，减少等待时间。
- **通道控制器**
  - 专门处理I/O数据传输，减轻CPU负担。
- **中断分级与屏蔽**
  - 设置中断优先级，优先处理紧急任务，屏蔽低优先级中断。
- **设备并行与分布式I/O**
  - 利用多个I/O通道并行工作，提高系统吞吐量。

------

#### **5. 常见I/O设备**

- **输入设备**
  - **键盘**：字符输入设备，按键触发中断。
  - **鼠标**：二维输入设备，采用光学或机械方式定位。
  - **扫描仪**：通过光电传感器捕获图像数据。
- **输出设备**
  - **显示器**：显示数字和图像，分为LCD、LED、OLED等类型。
  - **打印机**：输出文本和图像，分为激光打印机、喷墨打印机等。
- **输入输出复合设备**
  - **硬盘驱动器**：既能存储数据又能提供数据访问。
  - **触摸屏**：既能接受输入又能提供图形显示。

------

#### **6. 实例分析**

- **DMA在硬盘数据传输中的应用**
  - 硬盘传输1GB数据到主存：
    - **程序控制方式**：CPU逐字节传输，假设每字节传输需要1μs，$总时间=1GB × 1μs = 10910^9 μs = 1000秒$。
    - **DMA方式**：DMA控制器直接传输数据，假设传输速率为200MB/s，$总时间=1GB ÷ 200MB/s = 5秒$。
- **中断与轮询对比**
  - 假设打印机每秒需要响应一次，中断方式CPU仅在响应时中断执行；轮询方式CPU需持续查询状态，性能明显低于中断方式。

------

#### **7. 总线与I/O设备**

- **总线的概念**
  - 是CPU、存储器和I/O设备之间共享的数据传输通道。
- **总线分类**
  1. 系统总线
     - 连接CPU与主存储器。
     - 示例：地址总线、数据总线。
  2. I/O总线
     - 连接外部设备与主系统。
     - 示例：PCI、PCIe。
  3. 专用总线
     - 为特定设备设计，性能优化。
     - 示例：GPU使用的NVLink。

